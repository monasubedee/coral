<!doctype html>
<html lang="ja">
   <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <title>企業情報</title>
      <link href="/static/css/style.css" rel="stylesheet" type="text/css">
      <script src="https://code.jquery.com/jquery-3.4.1.min.js"
         integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
      <script src="https://ajaxzip3.github.io/ajaxzip3.js" charset="UTF-8"></script>
      <script src="js/main.js"></script>
   </head>
   <body>
      <div class="container__current__change">
         <div class="text">内容を保存しました</div>
      </div>
      <div class="container">
         <h2 class="heading">企業情報</h2>
         <div class="content__wrapper">
            <div class="article__wrapper">
               <div class="heading__text">ご利用企業の情報を入力してください</div>
               <div class="spacer"></div>
               <div class="content__form">
                  <div class="article__title">会社情報</div>
                  <hr class="news__line">
                  <div class="form-company__wrapper">
                     <div class="form-company__inner">
                        <div class="article__text required">会社名</div>
                        <div class="asterisk"></div>
                     </div>
                     <div>
                        <input class="form-company__large" id="companyname" placeholder="株式会社ナレッジバンク" aria-invalid="false">
                        <span class="form-company__invalid" aria-hidden="true">内容が未入力です</span>
                     </div>
                  </div>
                  <div class="form-company__wrapper">
                     <div class="form-company__inner">
                        <div class="article__text">郵便番号</div>
                        <div class="asterisk"></div>
                     </div>
                     <input class="form-company__min2" id="street" placeholder="123" maxlength="3" name="zip1" aria-invalid="false">
                     <input class="form-company__min2" id="postalno" placeholder="4567" maxlength="7"  name="zip2" aria-invalid="false">
                     <button type="submit" class="form-company__address-serch" value="住所検索" onclick="AjaxZip3.zip2addr('zip1','zip2','addr','strt','');">住所検索</button>
                     <span class="form-company__invalid" aria-hidden="true">内容が未入力です</span>
                  </div>
                  <div class="form-company__wrapper">
                     <div class="form-company__inner">
                        <div class="article__text">住所</div>
                        <div class="asterisk"></div>
                     </div>
                     <div>
                        <select id="residence" name="addr" class="form__pref" aria-invalid="false">
                            <option value="" selected>都道府県</option>
              							<option value="北海道">北海道</option>
              							<option value="青森県">青森県</option>
              							<option value="秋田県">秋田県</option>
              							<option value="岩手県">岩手県</option>
              							<option value="山形県">山形県</option>
              							<option value="宮城県">宮城県</option>
              							<option value="福島県">福島県</option>
              							<option value="山梨県">山梨県</option>
              							<option value="長野県">長野県</option>
              							<option value="新潟県">新潟県</option>
              							<option value="富山県">富山県</option>
              							<option value="石川県">石川県</option>
              							<option value="福井県">福井県</option>
              							<option value="茨城県">茨城県</option>
              							<option value="栃木県">栃木県</option>
              							<option value="群馬県">群馬県</option>
              							<option value="埼玉県">埼玉県</option>
              							<option value="千葉県">千葉県</option>
              							<option value="東京都">東京都</option>
              							<option value="神奈川県">神奈川県</option>
              							<option value="愛知県">愛知県</option>
              							<option value="静岡県">静岡県</option>
              							<option value="岐阜県">岐阜県</option>
              							<option value="三重県">三重県</option>
              							<option value="大阪府">大阪府</option>
              							<option value="兵庫県">兵庫県</option>
              							<option value="京都府">京都府</option>
              							<option value="滋賀県">滋賀県</option>
              							<option value="奈良県">奈良県</option>
              							<option value="和歌山県">和歌山県</option>
              							<option value="岡山県">岡山県</option>
              							<option value="広島県">広島県</option>
              							<option value="鳥取県">鳥取県</option>
              							<option value="島根県">島根県</option>
              							<option value="山口県">山口県</option>
              							<option value="徳島県">徳島県</option>
              							<option value="香川県">香川県</option>
              							<option value="愛媛県">愛媛県</option>
              							<option value="高知県">高知県</option>
              							<option value="福岡県">福岡県</option>
              							<option value="佐賀県">佐賀県</option>
              							<option value="長崎県">長崎県</option>
              							<option value="熊本県">熊本県</option>
              							<option value="大分県">大分県</option>
              							<option value="宮崎県">宮崎県</option>
              							<option value="鹿児島県">鹿児島県</option>
              							<option value="沖縄県">沖縄県</option>
	                    </select>
                        <span class="form-company__invalid" aria-hidden="true">内容が未入力です</span>
                     </div>
                  </div>
                  <div class="form-company__wrapper">
                     <div class="form-company__inner"></div>
                     <div>
                        <input class="form-company__mid" id="cityname" placeholder="市区町村名" name="strt" aria-invalid="false">
                        <span class="form-company__invalid" aria-hidden="true">内容が未入力です</span>
                     </div>
                  </div>
                  <div class="form-company__wrapper">
                     <div class="form-company__inner"></div>
                     <div>
                        <input class="form-company__mid" id="fulladd" placeholder="番地" aria-invalid="false">
                        <span class="form-company__invalid" aria-hidden="true">内容が未入力です</span>
                     </div>
                  </div>
                  <div class="form-company__wrapper">
                     <div class="form-company__inner"></div>
                     <div>
                        <input class="form-company__mid" id="building" placeholder="ビル・マンション名">
                     </div>
                  </div>
                  <div class="form-company__wrapper">
                     <div class="form-company__inner">
                        <div class="article__text">電話番号</div>
                        <div class="asterisk"></div>
                     </div>
                     <div>
                        <input type="tel" id="phoneno1" class="form-company__min2" placeholder="03" aria-invalid="false">
                        <input type="tel" id="phoneno2" class="form-company__min2" placeholder="1234" aria-invalid="false">
                        <input type="tel" id="phoneno3" class="form-company__min2" placeholder="5678" aria-invalid="false">
                        <span class="form-company__invalid" aria-hidden="true">内容が未入力です</span>
                     </div>
                  </div>
                  <div class="form-company__wrapper">
                     <div class="form-company__inner">
                        <div class="article__text">URL</div>
                     </div>
                     <div>
                        <input class="form-company__large" id="companyurl" placeholder="https://knowledgebank.jp">
                     </div>
                  </div>
               </div>
               <div class="content__form">
                  <div class="article__title">担当者情報</div>
                  <hr class="news__line">
                  <div class="form-company__wrapper">
                     <div class="form-company__inner">
                        <div class="article__text required">お名前</div>
                        <div class="asterisk"></div>
                     </div>
                     <div>
                        <input class="form-company__mid" id="respname" placeholder="ナレッジ　タロウ" aria-invalid="false">
                        <span class="form-company__invalid"  aria-hidden="true">内容が未入力です</span>
                     </div>
                  </div>
                  <div class="form-company__wrapper">
                     <div class="form-company__inner">
                        <div class="article__text">メールアドレス</div>
                        <div class="asterisk"></div>
                     </div>
                     <div>
                        <input class="form-company__large" id="respmail" placeholder="mail@knowledgebank.jp" aria-invalid="false">
                        <span class="form-company__invalid" aria-hidden="true">内容が未入力です</span>
                     </div>
                  </div>
                  <div class="form-company__wrapper">
                     <div class="form-company__inner">
                        <div class="article__text">役職</div>
                        <div class="asterisk"></div>
                     </div>
                     <div>
                        <input class="form-company__mid" id="respposition" aria-invalid="false" placeholder="役職">
                        <span class="form-company__invalid" aria-hidden="true">内容が未入力です</span>
                     </div>
                  </div>
               </div>
               <div class="content__form">
                  <div class="article__title">請求情報</div>
                  <hr class="news__line">
                  <div class="content__inner">
                     <form class="billing-address">
                        <ul>
                           <li>
                              <label class="radio_text" for="same-address">
                                 <input type="radio" id="same-address" name="billing" checked >
                                 <div class="article__text">会社情報と同じ住所を請求先にする</div>
                              </label>
                           </li>
                           <li>
                              <label class="radio_text" for="new-address" >
                                 <input type="radio" id="new-address" name="billing" >
                                 <div class="article__text">請求先住所を新しく入力する</div>
                              </label>
                           </li>
                        </ul>
                     </form>
                  </div>
                  <div class="form__billing">
                     <div class="form-company__wrapper">
                        <div class="form-company__inner">
                           <div class="article__text">請求先名称</div>
                           <div class="asterisk"></div>
                        </div>
                        <input class="form-company__mid" id="billingname" placeholder="株式会社ナレッジバンク">
                     </div>
                     <div class="form-company__wrapper">
                        <div class="form-company__inner">
                           <div class="article__text">郵便番号</div>
                           <div class="asterisk"></div>
                        </div>
                        <input class="form-company__min2" id="b_street" placeholder="123" maxlength="3" name="invoice__zip1">
                        <input class="form-company__min2" id="b_postalno" placeholder="4567" maxlength="4" name="invoice__zip2">
                        <button type="submit" class="form-company__address-serch" value="住所検索" onclick="AjaxZip3.zip2addr('invoice__zip1','invoice__zip2','invoice__addr','invoice__strt','');">住所検索</button>
                     </div>
                     <div class="form-company__wrapper">
                        <div class="form-company__inner">
                           <div class="article__text">住所</div>
                           <div class="asterisk"></div>
                        </div>
                        <select id="b_residence" name="invoice__addr" class="form__pref">
                           <option value="" selected>都道府県</option>
                           <option value="1">北海道</option>
                           <option value="2">青森県</option>
                           <option value="3">岩手県</option>
                           <option value="4">宮城県</option>
                           <option value="5">秋田県</option>
                           <option value="6">山形県</option>
                           <option value="7">福島県</option>
                           <option value="8">茨城県</option>
                           <option value="9">栃木県</option>
                           <option value="10">群馬県</option>
                           <option value="11">埼玉県</option>
                           <option value="12">千葉県</option>
                           <option value="13">東京都</option>
                           <option value="14">神奈川県</option>
                           <option value="15">新潟県</option>
                           <option value="16">富山県</option>
                           <option value="17">石川県</option>
                           <option value="18">福井県</option>
                           <option value="19">山梨県</option>
                           <option value="20">長野県</option>
                           <option value="21">岐阜県</option>
                           <option value="22">静岡県</option>
                           <option value="23">愛知県</option>
                           <option value="24">三重県</option>
                           <option value="25">滋賀県</option>
                           <option value="26">京都府</option>
                           <option value="27">大阪府</option>
                           <option value="28">兵庫県</option>
                           <option value="29">奈良県</option>
                           <option value="30">和歌山県</option>
                           <option value="31">鳥取県</option>
                           <option value="32">島根県</option>
                           <option value="33">岡山県</option>
                           <option value="34">広島県</option>
                           <option value="35">山口県</option>
                           <option value="36">徳島県</option>
                           <option value="37">香川県</option>
                           <option value="38">愛媛県</option>
                           <option value="39">高知県</option>
                           <option value="40">福岡県</option>
                           <option value="41">佐賀県</option>
                           <option value="42">長崎県</option>
                           <option value="43">熊本県</option>
                           <option value="44">大分県</option>
                           <option value="45">宮崎県</option>
                           <option value="46">鹿児島県</option>
                           <option value="47">沖縄県</option>
                        </select>
                     </div>
                     <div class="form-company__wrapper">
                        <div class="form-company__inner"></div>
                        <input class="form-company__mid" id="b_cityname" placeholder="市区町村名" name="invoice__strt">
                     </div>
                     <div class="form-company__wrapper">
                        <div class="form-company__inner"></div>
                        <input class="form-company__mid" id="b_fulladd" placeholder="番地">
                     </div>
                     <div class="form-company__wrapper">
                        <div class="form-company__inner"></div>
                        <input class="form-company__mid" id="b_building" placeholder="ビル・マンション名">
                     </div>
                     <div class="form-company__wrapper">
                        <div class="form-company__inner">
                           <div class="article__text">クレジットカード管理</div>
                           <div class="asterisk"></div>
                        </div>
                        <div class="form-company__inner">
                           <div class="article__text">(VISA) **** **** **** 6034</div>
                        </div>
                        <button type="submit" class="form-company__card-change" value="住所検索">カード変更</button>
                     </div>
                  </div>
               </div>
            </div>
         </div>
         <div class="btn_wrapper"><button type="submit" class="contact__button" data-anime-hover="buttons" onclick="senddata()">入力内容を保存する</button></div>
      </div>
      <script>
            function senddata() {
               companyname = document.getElementById("companyname").value.toString()
               postalno = document.getElementById("postalno").value
               residence = document.getElementById("residence").value
               street = document.getElementById("street").value
               cityname = document.getElementById("cityname").value
               fulladd = document.getElementById("fulladd").value
               building = document.getElementById("building").value
               phoneno = document.getElementById("phoneno1").value + document.getElementById("phoneno2").value + document.getElementById("phoneno3").value
               companyurl = document.getElementById("companyurl").value
               respname = document.getElementById("respname").value
               respmail = document.getElementById("respmail").value
               respposition = document.getElementById("respposition").value
               billingname = document.getElementById("billingname").value
               b_postalno = document.getElementById("b_postalno").value
               b_residence = document.getElementById("b_residence").value
               b_street = document.getElementById("b_street").value
               b_cityname = document.getElementById("b_cityname").value
               b_fulladd = document.getElementById("b_fulladd").value
               b_building = document.getElementById("b_building").value
               userid = 1

               var data = '{"userId": "' +userid.toString()+'", "companyname": "' +companyname.toString()+'", "postalno": "'+postalno.toString()+'", "residence": "'+residence.toString()+'", "street": "'+street.toString()+'", "cityname": "'+cityname.toString()+'", "fulladd": "'+fulladd.toString()+'", "building": "'+building.toString()+'", "phoneno": "'+phoneno.toString()+'", "companyurl": "'+companyurl.toString()+'", "respname": "'+respname.toString()+'", "respmail": "'+respmail.toString()+'", "respposition": "'+respposition.toString()+'", "billingname": "'+billingname.toString()+'", "b_postalno": "'+b_postalno.toString()+'", "b_residence": "'+b_residence.toString()+'", "b_street": "'+b_street.toString()+'", "b_cityname": "'+b_cityname.toString()+'", "b_fulladd": "'+b_fulladd.toString()+'", "b_building": "'+b_building.toString()+'"}';
               console.log('data', data);

                var xhr = new XMLHttpRequest();
                var url = "/settings/company";
                xhr.open("POST", url, true);
                xhr.setRequestHeader("Content-Type", "application/json");
                xhr.onreadystatechange = function () {
                    if (xhr.readyState === 4 && xhr.status === 200) {
                        var json = JSON.parse(xhr.responseText);
                        if(json.result == "ok"){
                          window.location.href='/settings/company';
                        }

                        // console.log("json",json);
                        // window.location.herf="/settings/company";
                    }
                };
                xhr.send(data)
            }
      </script>
   </body>
</html>
